<!DOCTYPE html>
<html>

<head>
  <title>8</title>
  <link data-require="bootstrap-css@3.1.1" data-semver="3.1.1" rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
  <link rel="stylesheet" href="style.css">
</head>

<body ng-app="greetingsApp" ng-init="stylesModel.sortClasses = {unsorted: 'fa-sort', ascending: 'fa-sort-asc', descending: 'fa-sort-desc'}">

  <div ng-controller="GreetingsCtrl" class="main-panel panel panel-primary">
    <div class="panel-heading">Lesson 8 - Angular Watchers & The Scope</div>
    <div class="panel-body">
      <div class="input-div">
        <button style="float: right" class="btn btn-default" ng-click="loadData()"><i class="fa fa-cloud-download"></i> Factory</button>
        <button style="float: right" class="btn btn-default" ng-click="loadMoreData()"><i class="fa fa-cloud-download"></i> Service</button>
        Search:
        <input type="text" class="form-control search-input" ng-model="greetModel.search" />
      </div>
      <table border="1" class="table table-striped table-bordered">
        <tbody>
          <tr class="no-select">
            <th ng-click="sortBy('hello')">
              Say hello
              <i class="fa" ng-class="getSortClass('hello', stylesModel.sortClasses)"></i>
            </th>
            <th ng-click="sortBy('world')">
              to the world
              <i class="fa" ng-class="getSortClass('world', stylesModel.sortClasses)"></i>
            </th>
            <th ng-click="sortBy('language')">
              in a language
              <i class="fa" ng-class="getSortClass('language', stylesModel.sortClasses)"></i>
            </th>
            <th ng-click="sortBy('visitEndDate')">
              Visited?
              <i class="fa" ng-class="getSortClass('visitEndDate', stylesModel.sortClasses)"></i>
            </th>
            <th>Add/Rem</th>
          </tr>
          <tr ng-repeat="greeting in greetModel.greetings | orderBy:greetModel.orderBy:greetModel.isReversed | filter:greetModel.search">
            <td>{{ greeting.hello }}</td>
            <td>{{ greeting.world }}</td>
            <td>{{ greeting.language }}</td>
            <td>{{ greeting.visitStartDate | date:'MMM d, y' }}</td>
            <td>
              <button style="width:100%" class="btn btn-danger table-btn" ng-click="removeGreeting(greeting, greetModel)">
                <i class="fa fa-minus"></i>
              </button>
            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td>
              <input type="text" class="form-control add-input" ng-model="greetModel.addGreet.hello" />
            </td>
            <td>
              <input type="text" class="form-control add-input" ng-model="greetModel.addGreet.world" />
            </td>
            <td>
              <input type="text" class="form-control add-input" ng-model="greetModel.addGreet.language" />
            </td>
            <td>
              <input type="text" class="form-control add-input" ng-model="greetModel.addGreet.visitStartDate" />
            </td>
            <td>
              <button style="width:100%" class="btn btn-success table-btn" ng-click="addGreeting(greetModel.addGreet, greetModel)"><i class="fa fa-plus"></i>
              </button>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.3/angular.min.js"></script>
  <script type="text/javascript" src="./greetingsApp.js"></script>
  <link data-require="fontawesome@*" data-semver="4.1.0" rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" />
</body>

</html>
